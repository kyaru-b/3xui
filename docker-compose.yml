version: '3.8'
services:
  3x-ui:
    build: 
      context: .
      dockerfile: Dockerfile
    container_name: 3x-ui
    volumes:
      - ./db/:/etc/x-ui/
      - ./cert/:/root/cert/
      - ./logs/:/var/log/x-ui/ 
    ports:
      - "${X_UI_PORT}:${X_UI_PORT}"
      # Порты для Shadowsocks/VLESS/VMess (добавьте свои по мере необходимости)
      # - "443:443"
      # - "8443:8443"
    environment:
      - XRAY_VMESS_AEAD_FORCED=false
      - TZ=${TZ}
    tty: true
    restart: unless-stopped
    # Оптимизация сети (работает на Linux хостах, на Windows может игнорироваться)
    sysctls:
      - net.ipv4.tcp_congestion_control=bbr
